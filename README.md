# teachat-readme.md

## 简介
这是一个探索开发中的任务型社交应用  
关于什么是“任务型社交”，举例说明：任务开始前，需求业主如来佛委托代理人观音菩萨遍访大唐各地，打听和交谈，展开带有明确目的“社交”活动，直到找齐合适的取经人（团队成员），当菩萨最终找到首席执行官江流儿（唐僧）后，交给唐僧（团队）一个指定的任务-西天取经，附加必须徒步方式完成任务的约定，承诺任务完成之后，给予团队成员“修成正果”或者“解除天惩”等酬劳。任务中，观音菩萨全程监护，及时对遇到困难的取经团队支援纾困。确认任务完成后，取到真经的团队，按照具体表现，各个成员获得业主如来佛给予的相应封赏（酬劳兑现）。这样一整套流程，就是“任务社交”的内涵，它不能简单的说，业主如来佛委托观音菩萨代理向唐僧取经团队购买了一个“西天取经”服务，这样商品交易化的语句无法完整表达整套流程的复杂含义。实际上，西天取经是大唐国力、土地神仙、天兵天将和各种因应变化支援团队和物资（例如定风丹）多团队协作的成果，然后西游记作者分享了这一流程（故事）。  
为了充分表达这个事件，有必要创建一个新的类型来形容，这就是任务社交—诸多团队、家庭围绕特定任务展开协作的完整流程。  
从满足要素即可归类上来说，“任务社交”可以像西天取经那样宏大叙事，也可以很微小不足为外人道，例如，需求业主（你家）的马桶堵塞了，你委托物业或者某家政平台（楼梯小广告也是一种匿名平台）去找合适的解决问题的人（团队），来完成恢复马桶功能的任务。你实践一下就明白，这不是来一个简洁明快的购买了1单“疏通马桶”服务就完事，你极有可能面临多种复杂多变情况：同样的需求，不同的平台报价差异很大，可能相差几倍；不同师傅（服务团队）给出的处理方案大相径庭，有的拟用通马桶神器，有的拟用化学溶剂，有的判决需要拆旧换新……实际上你是在和各种社会人员围绕“恢复马桶功能”任务而展开了一场信息交流会（社交），当你获取足够信息做出抉择后，即是和某个认可团队达成了合同约定，合同履行过程中，出现各种意外变化（例如发现马桶质量问题）你必须适应性地更新或中断合约执行……最后，你还要按约定方式支付酬劳避免被控诉违约。走完一整套流程下来，才算完成了这一个小小任务社交，尾声，分享这个过程，作为下一个任务社交的循环开始。
小结，全流程循环：任务社交开始-调查分享内容-相关家庭团队交流信息-业主悬赏-遴选任务承担团队-达成合约-任务生命管理-评估成果-确认任务完成-履行合约兑现酬劳-分享社交内容-任务社交结束（下一循环开始）。

## 实现形式

### 与会者身份
把用户视为某个茶团成员，把茶团与茶团之间的供需协作，看成是茶话会活动，以预设结构化数据形式，交流（共享）茶团之间的装备技能协作信息。  
茶团分有两种，构成二维社会背景坐标形式(`&家庭family`,`$事业team`);  
1、家族利益（gene）相关，家庭树发展链，一个家庭是一个节点，每个人都有自我视角的&家庭及关联家族；  
 --没有前辈（上一代）的生存繁衍博弈成就，就没有当前这一代，当代的发展策略，基于上一代复制而来，又直接影响下一代的迭代，血脉相连不可断链。  

2、价值观利益(meme)相关，事业发展链，一个团队是一个节点，每个人都有所属的$事业团队茶团以及关联集团。  
 --事业是个迷，好事不出门，坏事传千里。事业的发展通常由某个发现者驱动，途经的每个人都在基于其价值观影响事情的发展，旁观或者参与，道德价值观和利益缠绕在一起。反对还是支持，是个问题。  

### 活动设置

#### 说
茶围：发起人已家庭或者团队成员身份设立一个任务（目标），通常来说实现一个目标有多个解决方案；  
茶台：响应任务的某个团队建立项目，是一个独立的解决方案；  
茶议：围绕解决方案展开记录，讨论，进度等子项；  
品味：针对某个茶议的表态；  
#### 做
地点：活动的地理位置，可以是线上虚拟空间，也可以是线下实体场所；
物资：活动所需的物品；
技能：活动所需的技能；
魔法：活动所需的思考能力；
风险：活动可能遇到的作业风险；
隐患：活动环境存在的安全隐患；
手艺：解决问题的技艺方法，包含约茶、看看、脑火、建议、物资、手艺六个解题步骤；

### 是非特点
1、观点式发言，立场式回复。发贴者在发布新贴时，首先需要选择一个标题前缀：我觉得（ithink）/出主意（idea），这将提示用户要明确这是一个必须以断言开场展开讨论的议程。对应地，跟帖者在回复时，首先必须表明自己的立场是支持或者反对，没有模糊立场选项；  
2、是非表态结果对比，既要考虑数量比，也要权衡质量比。
3、以（&家庭，$事业）二维茶团成员来识别发言者身份背景，如果用户想要独立发言，可以选择“自由人”或者“四海为家”这样的虚拟背景设定值；  
4、用户自治审核内容机制：为了阻止冒犯语言泛滥，对用户发言采取随机抽取邻座（其它用户），进行双蒙评审（友邻蒙评）是否文明用语来抑制野蛮、垃圾信息。  
5、以“慎独”思想为基础，讨论问题采用“非是则否，非真则假，非赞成则反对...这一种阴阳（boolean）表达形式，态度明确，无模糊类型。  
     
### 以虚拟星际茶话会映射现实场景

假设这是一个以故事情节驱动开发的web应用。  
人们正在一艘飞往银河系外的星际飞船上，漫长旅程，爱好喝茶的船长为了帮助乘客们打发旅途无聊时间，在空旷地带拉帆布篷搭建简易茶棚（teaBar），设了几围台，供旅客们休闲开展主题茶话party。为了秩序良好，茶棚区约定一些规则:  
>1、每个人对每一新茶(观点/提议)议程,只能一次品味（表态立场）；  
2、品味字数下限17字（大观园刘姥姥品味“老君眉”贡品热茶用字数），上限456字，可以内涵（套娃）形式拓展表达更多内容；  
3、必须遵守品茶礼仪：用户发品味言论，创建团队、集团填写的使命内容，需要经过友邻蒙评（随机双盲）评审，无冒犯他人方可茶棚传递。


  
## 项目目录
*使用 golang，postgreSQL，bootstrap 3。  
*目录结构简要说明：
public文件夹存放静态资源文件（css/js/image/help等）；  
templates文件夹存放*.go.html模版文件;  
DAO文件夹存放数据库连接属性；定义所需的原始数据结构type * struct，分类属性定义声明const，相关的CURD方法，模版填充需要包装数据结构（TemplateData/bean）声明在template_struct_*； 
Route文件夹存放路由处理函数，输出最终正式页面generateHTML方法，route_share_func_*存放共享的从数据库获取包装数据方法（fetch*Bean）/辅助函数；  
sql文件夹存放建表语句schema.sql，预填充数据seed_data.sql文件。  
util文件夹存放一般的工具函数；

## 本地运行需要做的 

提示：建议按自己的pc系统搜索对应Golang编程环境搭建教程作业，以下是大致步骤。  
1、搭建golang环境，安装go 1.18+；  
2、安装postgreSQL/mySQL 数据库，安装对应的数据库for go驱动包；
> 创建对应的数据库实例，或者利用项目中的scheme.sql文件内容快速创建数据库实例。  
3、下载或者克隆应用代码；  
4、go run或者go build运行web应用；  
5、使用浏览器应用访问127.0.0.1:8000（默认）;  

## 推荐VSCode运编一体Go插件魔法  
5、安装VSCode，插件市场安装Go for VSCode插件和伴随而来的gopls等全家桶工具；  
6、克隆本项目；  
7、在VScode里菜单栏中依次点选：运行-调试（Run -> Start debugging）(快捷键：F5)，DEBUG控制台提示服务开始后，用本机上的浏览器访问，配置文件指定的地址（默认：<http://localhost:8000/v1>）。

### 如果调试时遇到某一步卡住的问题  
1、查看日志文件记录，控制台调试输出的提示，特别是留意数据库反馈错误信息；  
2、尝试查看相关书籍；  
3、尝试问可用的编程AI助手或者网络寻求解答；  

## 关于这应用的源头  
《Go Web Programming》Sau Sheong Chang 著 黄健宏 译 一书的教学作品之一chitchat休闲聊<https://github.com/sausheong/chitchat>。由于众所周知的原因，实际获取源代码地址是<https://gitee.com/tickCoder-mirrors/sausheong-gwp/>  
以此应用为起始基础，修修剪剪……  
> 改动主要的地方有  
1、为了方便，把原云端data文件夹改为本地文件夹，根据DataAccessOperation改名DAO，data包名没变。  
2、随着route文件数量越来越多，为了简化分类，从main包中分离出来，集合到Route文件夹中，作为route包。同样地，util文件也独立进一个文件夹，作为util包。
3、升级bootstrap3和jquery到2024年的新版本。  
4、去掉了原来的注册专用的布局模版，共用单个布局模版。  
5、为了贴合茶话会故事环境，项目名字从chitchat（休闲聊？）改为teachat（@茶话会）  
6、按故事需要增加功能，数据模型、路由处理方法，以及相应模版。  
7、其他...  

## 运行时界面截图
在帮助文件夹里查看预填充数据模拟的测试运行页面截图。  

![茶话会集合](public/help/image/teachat-square.jpeg)

### 附加说明 
>1、本文前面提到的“慎独”一词意思是指什么？慎独的“独”可以是独立思考，也可以是独断专行，这里是指需要谨慎对待个人的独处行为，特别是个人在无监护的状态下活动时...  
2、《红楼梦》里刘姥姥评价茶女皇妙玉泡的皇家贡茶老君眉原话：“好是好，就是淡些，再熬浓些更好了。”包括标点符号一共是17个rune字符。作为一个品味，不能比这更低了吧？



# 感谢:
!    <a href="https://go.dev/dl/">go</a>
     <a href="https://www.postgresql.org/">PostgreSQL</a>
     <a href="https://code.visualstudio.com/">VSCode</a>
     <a href="https://aws.amazon.com/q/">Amazon-Q</a>
     <a href="https://www.glyphicons.com/">Glyphicons</a>
     <a href="https://icons.bootcss.com/">Bootstrap-icons</a>
     <a href="https://www.deepseek.com">DeepSeek</a>
     <a href="https://cloud.tencent.com/product/acc">腾讯云代码助手</a>  

## 都读到这里了，欢迎来品茶呀！
