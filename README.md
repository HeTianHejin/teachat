# teachat-readme.md

## 简介
以“慎独”思想为基础，对发言者以（&家庭，$事业）二维团队背景进行唯一性定位，讨论问题采用“非是则否，非真则假，非赞成则反对...这一种阴阳（boolean）表达形式，态度明确，无中间类型”形式进行意见交流模式的“阴阳茶话会”。  
*使用golang+postgresql+bootstrap3编造。

### 独有的“是非茶话会”特点

1、观点式发言，立场式回复。发贴者在发布新贴时，首先需要选择一个标题前缀：我觉得（ithink）/出主意（idea），这将提示用户要明确这是一个必须以断言开场展开讨论的议程。对应地，跟帖者在回复时，首先必须表明自己的立场是支持或者反对，没有中间派立场选项；  
2、是非表态结果对比，既要考虑数量比，也要权衡质量比。正反双方的较量，除了传统的按人头票数简单统计，同时添加第三方双蒙评价量化值来衡量论述总质量，以充分全面的展示主流意愿；  
3、以（&家庭，$事业）二维茶团成员来识别发言者身份（背景），摆脱过去现在或者将来的同名同姓者问题困扰。如果用户想要独立发言，可以选择“自由人”这样的系统虚拟私人身份；  
4、用户自治审核内容机制：为了阻止垃圾语言骚扰，对用户发言采取随机抽取邻座（其它用户），进行双蒙评审是否文明用语来抑制野蛮、垃圾信息。  

     
### 以虚拟星际茶话会映射现实场景

假设这是一个以故事情节驱动开发的web应用。  
人们正在一艘巨大的飞往系外星球殖民地的星际飞船上，以光年计算的漫长航程，爱好喝茶的船长为了帮助乘客们打发旅途无聊时间，在空旷地带拉帆布篷搭建简易茶棚（teaBar），设了几围台，供旅客们休闲开展主题茶话party。为了秩序良好，茶棚区约定一些规则:  
>1、每个人品茶机会均等，每一泡新茶(观点/提议)议程,形式上每人只能一次品味（表态）；  
2、品味必须押题发言,表明态度，并且说明依据理由，字数下限17字（大观园刘姥姥品味“老君眉”贡品热茶用字数），靠口才而不是高光图片炫夺眼球；  
3、必须遵守品茶礼仪。


  

## 本地运行需要做的 

提示：建议按自己的pc系统搜索对应Golang编程环境搭建教程作业，以下是大致步骤。  
1、搭建golang环境，安装go 1.18+；  
2、安装postgreSQL/mySQL 数据库，安装对应的数据库for go驱动包；
> 创建对应的数据库实例，或者利用项目中的setup.sql文件内容快速创建数据库实例。  
3、下载或者克隆应用代码；  
4、go run或者go build运行web应用；  
5、使用浏览器应用访问127.0.0.1:8000（默认）;  

## 推荐VSCode运编一体Go插件魔法  
5、安装VSCode，插件市场安装Go for VSCode插件和伴随而来的gopls等全家桶工具；  
6、克隆本项目；  
7、在VScode里打开main文件，Vscode菜单栏中依次点选：运行-调试（Run -> Start debugging）(快捷键：F5)，控制台提示服务开始后，用本机上的浏览器访问 配置文件指定的地址（默认：<http://localhost:8000/v1>）。

### 如果调试时遇到某一步卡住的问题  
1、尝试查看teachatWeb.log文件记录，控制台调试输出的提示，特别是留意数据库反馈错误信息；  
2、尝试查看《Go Web Programming》这本书有关章节是否已经给出了易错提示；  
3、尝试问一问可用的编程AI助手或者网络寻求解答；  
4、向认识的Golang高手请教。


### 这么想的 
  
受《红楼梦》书中大观园里,贾探春三小姐发起的偶结海棠诗社,那样的主题诗词茶话party启发，掺合圆桌会议在座者均可平等表态想法，试图构建一个“复古的”意见交流论坛，预期就某一模糊问题，各表各态，寻求达成主流意见。形式包括但不限于：主题预先拟定讨论范围可以接受；跟帖不能出圈跑题，立场必须分明；观点与论述内容必须强关联，至少达到或者超过刘姥姥品茶水平；表态排序应按质量而不是流量；评价要避嫌，避免贾宝玉偏袒林黛玉等等。  

## 关于这应用的来源  
《Go Web Programming》Sau Sheong Chang 著 黄健宏 译 一书的教学作品之一chitchat休闲聊<https://github.com/sausheong/chitchat>。由于众所周知的原因，实际获取源代码地址是<https://gitee.com/tickCoder-mirrors/sausheong-gwp/>  
以此应用为起始基础，修修剪剪……  
> 改动主要的地方有  
1、为了~~适应~~西域流沙河渡河困难的问题，把data文件夹改为本地，根据DataAccessOperation改名DAO，data包名没变。  
2、随着route文件数量越来越多，为了简化分类，从main包中分离出来，集合到Route文件夹中，作为route包。同样地，util文件也独立进一个文件夹，作为util包。
3、升级bootstrap3和jquery到2024年的新版本。  
4、去掉了原来的注册专用的布局模版，共用单个布局模版。  
5、为了贴合茶话会故事环境，项目名字从chitchat（休闲聊？）改为teachat（@茶话会）  
6、按故事需要增加功能，数据模型、路由处理方法，以及相应模版。  
7、其他...  
另外必须提的是使用VSCode市场的亚马逊AWS编程辅助插件帮助编写烧颈椎的大量SQL语句。  

## 运行时界面截图
在帮助文件夹里查看预填充数据模拟的测试运行页面截图。  

![茶话会集锦](public/help/image/tea_party-square.png)

### 附加说明 
>1、本文前面提到的“慎独”一词意思是指什么？慎独的“独”可以是独立思考，也可以是独断专行，这里是指需要谨慎对待个人的独处行为，特别是个人在无监护的状态下活动时，可能会因误以为自己处于“神不知鬼不觉”暗黑世界，诱发一些邪思妄念冲动魔鬼举动...  
2、《红楼梦》里刘姥姥评价茶女皇妙玉泡的皇家贡茶老君眉原话：“好是好，就是淡些，再熬浓些更好了。”包括标点符号一共是17个rune字符。作为一个品味，不能比这更低了吧？



# 感谢:
!    <a href="https://golang.google.cn"></a>
     <a href="https://www.postgresql.org/">PostgreSQL</a>
     <a href="https://code.visualstudio.com/">VSCode</a>
     <a href="https://aws.amazon.com/q/">Amazon-Q</a>
     <a href="https://www.glyphicons.com/">Glyphicons</a>
     <a href="https://icons.bootcss.com/">Bootstrap-icons</a>
     <a href="https://www.deepseek.com">DeepSeek</a>
     <a href="https://cloud.tencent.com/product/acc">腾讯云AI代码助手</a>  

## 都读到这里了，欢迎一起来品茶呀！
