{{ define "content"}}

{{/* 这是查找页面 */}}

<div class="well">
  <span class="glyphicon glyphicon-info-sign" aria-hidden="true"> </span>
  茶博士：如果知道对应的编号数，查询速度会更快。可以用邮箱代替花名查找茶友。
</div>

<form role="form" action="/v1/search" method="post">

  <div class="panel-body form-group">

    <div>
      <label for="radio">选择类别：</label>
      <fieldset id="radio">
        <input type="radio" name="class" id="user_id" style="width: fit-content;" value="10"required />
        <label for="user_id">茶友茶号</label>

        <input type="radio" name="class" id="user" style="width: fit-content;" value="0"  checked required />
        <label for="user">茶友花名</label>

        <input type="radio" name="class" id="team" style="width: fit-content;" value="1" required />
        <label for="team">茶团简称</label>

        <input type="radio" name="class" id="thread" style="width: fit-content;" value="2" required />
        <label for="thread">茶议标题</label>

        <input type="radio" name="class" id="objective" style="width: fit-content;" value="3" required />
        <label for="objective">茶会名称</label>

        <input type="radio" name="class" id="project" style="width: fit-content;" value="4" required  />
        <label for="project">茶台名称</label>

        <input type="radio" name="class" id="place" style="width: fit-content;" value="5" required />
        <label for="place">地点名称</label>

        <input type="radio" name="class" id="environment" style="width: fit-content;" value="6" required />
        <label for="environment">环境条件</label>

        <input type="radio" name="class" id="hazard" style="width: fit-content;" value="7" required />
        <label for="hazard">安全隐患</label>

        <input type="radio" name="class" id="risk" style="width: fit-content;" value="8" required />
        <label for="risk">作业风险</label>

  <input type="radio" name="class" id="goods" style="width: fit-content;" value="9" required />
  <label for="goods">物资</label>

        <input type="radio" name="class" id="skill" style="width: fit-content;" value="11" required />
        <label for="skill">技能</label>

        <input type="radio" name="class" id="magic" style="width: fit-content;" value="12" required />
        <label for="magic">法力</label>

      </fieldset>
    </div>

    <div class="form-group" style="margin-top: 1rem;">
      <label for="keyword"></label>
      <input type="text" class="form-control" name="keyword" id="keyword" minlength="1" maxlength="32" required
        autofocus>
    </div>

    <div class="form-group">

      <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">

        <button class="btn btn-default pull-right" type="submit">查茶</button>
      </div>

    </div>

  </div>
</form>

{{ if .IsEmpty }}
<hr />
<p>查到 0 个记录。</p>
<hr />

{{ else }}{{/* 以下是查找结果非零 */}}

{{ range .UserBeanSlice }}{{/* 这是查找用户（茶友）结果展示 */}}

<div class="media">
  <div class="media-left">
   {{ template "component_avatar_name_gender" .User }}
  </div>
  <div class="media-body">
      <span style="font-style: italic;">
        （<a href="/v1/family/detail?id={{ .DefaultFamilyBean.Family.Uuid }}">{{ .DefaultFamilyBean.Family.Name }}</a>，
        <a href="/v1/team/detail?uuid={{ .DefaultTeamBean.Team.Uuid }}">{{ .DefaultTeamBean.Team.Abbreviation }}</a>）
      </span>
    </p>
    <p>茶友号：{{ .User.Id }}</p>
    <p>邮 箱：{{ .User.Email }}</p>

  </div>
</div>

<hr />
{{ end }}{{/* 这是查找用户（茶友）结果队列迭代结束 */}}

{{ range .TeamBeanSlice }}
{{/* 这是查找茶团（事业团队）结果展示 */}}
{{ template "component_team" . }}
<hr />
{{ end }}{{/* 这是查找到的茶团结果队列迭代结束 */}}


{{/* 以下是查询结果，茶议的简要展示 */}}
{{ range .ThreadBeanSlice }}
{{ template "component_thread_bean" . }}
<hr />
{{ end }}{{/* 这是查找到的茶台结果队列迭代结束 */}}

{{/* 以下是查询结果，茶台的简要展示 */}}
{{ range .ProjectBeanSlice }}
{{ template "component_project_bean" . }}
<hr />
{{ end }}{{/* 这是查找到的茶台结果队列迭代结束 */}} 

{{/* 以下是查询结果，茶会（茶围）的简要展示 */}}
{{ range .ObjectiveBeanSlice }}
{{ template "component_objective_bean" . }}
<hr />
{{ end }}{{/* 这是查找到的茶会（茶围）结果队列迭代结束 */}}

{{ range .PlaceSlice }}{{/* 这是查找到的 品茶地点 结果队列迭代-开始 */}}
<hr />
{{ template "component_place" . }}
<div style="margin: 1rem;">
  {{/* 显示收藏功能按钮  */}}
  <a class="btn btn-default" href="/v1/place/collect?id={{ .Id }}" role="button">
    <i class="bi-pencil-square" style="font-size: 1.5rem; color: green;"></i>
    一键收藏</a>
</div>
{{ end }}{{/* 这是查找到的 品茶地点 结果队列迭代-结束 */}}

{{ range .EnvironmentSlice }}{{/* 这是查找到的 环境条件 结果队列迭代-开始 */}}
<hr />
<div class="panel panel-default">
  <div class="panel-heading">
    <strong>环境条件 #{{ .Id }}</strong> - {{ .Name }}
    <a href="/v1/environment/detail?id={{ .Id }}" class="btn btn-xs btn-info pull-right">
      <span class="glyphicon glyphicon-eye-open"></span> 查看详情
    </a>
  </div>
  <div class="panel-body">
    <p>{{ .Summary }}</p>
    <small class="text-muted">创建时间：{{ .CreatedAt.Format "2006-01-02 15:04:05" }}</small>
  </div>
</div>
{{ end }}{{/* 这是查找到的 环境条件 结果队列迭代-结束 */}}

{{ range .HazardSlice }}{{/* 这是查找到的 安全隐患 结果队列迭代-开始 */}}
<hr />
<div class="panel panel-default">
  <div class="panel-heading">
    <strong>安全隐患 #{{ .Id }}</strong> - {{ .Name }}
    <span class="label label-{{ if eq .Severity 5 }}danger{{ else if eq .Severity 4 }}warning{{ else if eq .Severity 3 }}info{{ else }}default{{ end }}">
      {{ .SeverityName }}
    </span>
    <span class="label label-default">{{ .CategoryName }}</span>
    <a href="/v1/hazard/detail?id={{ .Id }}" class="btn btn-xs btn-info pull-right">
      <span class="glyphicon glyphicon-eye-open"></span> 查看详情
    </a>
  </div>
  <div class="panel-body">
    <p>{{ .Description }}</p>
    {{ if .Keywords }}<p><strong>关键词：</strong>{{ .Keywords }}</p>{{ end }}
    {{ if .Source }}<p><strong>来源：</strong>{{ .Source }}</p>{{ end }}
    <small class="text-muted">创建时间：{{ .CreatedAt.Format "2006-01-02 15:04:05" }}</small>
  </div>
</div>
{{ end }}{{/* 这是查找到的 安全隐患 结果队列迭代-结束 */}}

{{ range .RiskSlice }}{{/* 这是查找到的 作业风险 结果队列迭代-开始 */}}
<hr />
<div class="panel panel-default">
  <div class="panel-heading">
    <strong>作业风险 #{{ .Id }}</strong> - {{ .Name }}
    <span class="label label-{{ if eq .Severity 5 }}danger{{ else if eq .Severity 4 }}warning{{ else if eq .Severity 3 }}info{{ else }}default{{ end }}">
      {{ RiskSeverityLevelString .Severity }}
    </span>
    {{ if .Source }}<span class="label label-default">{{ .Source }}</span>{{ end }}
    <a href="/v1/risk/detail?id={{ .Id }}" class="btn btn-xs btn-info pull-right">
      <span class="glyphicon glyphicon-eye-open"></span> 查看详情
    </a>
  </div>
  <div class="panel-body">
    <p>{{ .Description }}</p>
    {{ if .Keywords }}<p><strong>关键词：</strong>{{ .Keywords }}</p>{{ end }}
    {{ if .Nickname }}<p><strong>别名：</strong>{{ .Nickname }}</p>{{ end }}
    <small class="text-muted">创建时间：{{ .CreatedAt.Format "2006-01-02 15:04:05" }}</small>
  </div>
</div>
{{ end }}{{/* 这是查找到的 作业风险 结果队列迭代-结束 */}}

{{/* 物资搜索结果展示 */}}
{{ range .GoodsSlice }}
<hr />
<div class="panel panel-default">
  <div class="panel-heading">
    <strong>物资 #{{ .Id }}</strong> - {{ .Name }}
    <a href="/v1/goods/detail?uuid={{ .Uuid }}" class="btn btn-xs btn-info pull-right">
      <span class="glyphicon glyphicon-eye-open"></span> 查看详情
    </a>
  </div>
  <div class="panel-body">
    <div class="media">
      <div class="media-left">
        <img class="media-object" src="/v1/static/bootstrap-icons/bag.svg" alt="goods" width="48" height="48">
      </div>
      <div class="media-body">
        <h4 class="media-heading">{{ .Name }} <small class="text-muted">{{ .Nickname }}</small></h4>
        <p>{{ .Applicability }}</p>
        {{ if gt .Price 0.0 }}<p>价格：¥{{ .Price }}</p>{{ end }}
        <p><small class="text-muted">创建时间：{{ .CreatedAt.Format "2006-01-02 15:04:05" }}</small></p>
      </div>
    </div>
  </div>
</div>
{{ end }}

{{ range .SkillSlice }}{{/* 这是查找到的 技能 结果队列迭代-开始 */}}
<hr />
<div class="panel panel-default">
  <div class="panel-heading">
    <strong>技能 #{{ .Id }}</strong> - {{ .Name }}
    <span class="label label-{{ if eq .Category 2 }}primary{{ else if eq .Category 1 }}success{{ else }}default{{ end }}">
      {{ .CategoryString }}
    </span>
    <a href="/v1/skill/detail?id={{ .Id }}" class="btn btn-xs btn-info pull-right">
      <span class="glyphicon glyphicon-eye-open"></span> 查看详情
    </a>
  </div>
  <div class="panel-body">
    <p>{{ .Description }}</p>
    {{ if .Nickname }}<p><strong>别名：</strong>{{ .Nickname }}</p>{{ end }}
    <p><strong>体力等级：</strong>{{ .StrengthLevelString }}</p>
    <p><strong>难度等级：</strong>{{ .DifficultyLevelString }}</p>
    <small class="text-muted">创建时间：{{ .CreatedAt.Format "2006-01-02 15:04:05" }}</small>
  </div>
</div>
{{ end }}{{/* 这是查找到的 技能 结果队列迭代-结束 */}}

{{ range .MagicSlice }}{{/* 这是查找到的 法力 结果队列迭代-开始 */}}
<hr />
<div class="panel panel-default">
  <div class="panel-heading">
    <strong>法力 #{{ .Id }}</strong> - {{ .Name }}
    <span class="label label-{{ if eq .Category 2 }}warning{{ else if eq .Category 1 }}info{{ else }}default{{ end }}">
      {{ .CategoryString }}
    </span>
    <a href="/v1/magic/detail?id={{ .Id }}" class="btn btn-xs btn-info pull-right">
      <span class="glyphicon glyphicon-eye-open"></span> 查看详情
    </a>
  </div>
  <div class="panel-body">
    <p>{{ .Description }}</p>
    {{ if .Nickname }}<p><strong>别名：</strong>{{ .Nickname }}</p>{{ end }}
    <p><strong>智力等级：</strong>{{ .IntelligenceLevelString }}</p>
    <p><strong>难度等级：</strong>{{ .DifficultyLevelString }}</p>
    <small class="text-muted">创建时间：{{ .CreatedAt.Format "2006-01-02 15:04:05" }}</small>
  </div>
</div>
{{ end }}{{/* 这是查找到的 法力 结果队列迭代-结束 */}}

{{ end }}{{/* 这是查找结果非零 结束*/}}

{{ end }}